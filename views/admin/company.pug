extends ../layout.pug

block content

  h2 Company List
  table(style="border: 1px solid black; border-collapse: collapse;")
    tr
      th(style="border: 1px solid black;") companyId
      th(style="border: 1px solid black;") userId
      th(style="border: 1px solid black;") Company Name
      th(style="border: 1px solid black;") Industry
      th(style="border: 1px solid black;") Phone
      th(style="border: 1px solid black;") City
      th(style="border: 1px solid black;") Country
      th(style="border: 1px solid black;") Email
      th(style="border: 1px solid black;") Action
    each company in companies
      tr(id=`row-${company.companyId}`)
        td(style="border: 1px solid black;")= company.companyId
        td(style="border: 1px solid black;")= company.userId
        td(style="border: 1px solid black;")= company.companyName
        td(style="border: 1px solid black;")= company.industry
        td(style="border: 1px solid black;")= company.phone
        td(style="border: 1px solid black;")= company.city
        td(style="border: 1px solid black;")= company.country
        td(style="border: 1px solid black;")= company.email
        td(style="border: 1px solid black;")
          form(action=`/admin/company/delete/${company.companyId}`, method="POST")
            button(type="submit") Delete
          button(onclick=`handleClick(${company.companyId}, '${company.userId}', '${company.companyName}', '${company.industry}', '${company.phone}', '${company.city}', '${company.country}', '${company.email}')`) Edit

  form.form-company(method='post' action='/admin/company' id='create' style="background-color: rgba(26, 26, 26, 0.95); padding: 20px; border-radius: 10px; border: 1px solid #333333; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5); max-width: 500px; margin: auto;")
    div.mb-0
      input#companyId.input-company-hide(type='text' name='companyId' value="",hidden)
    div.mb-0
      input#userId.input-company-hide(type='text' name='userId' value=userId ? userId : '' hidden)
    div.tittle-company
      h1(style="color: #ffffff; text-align: center; margin-bottom: 20px;") Company List
    div.mb-3
      label.label-company(for='companyName' style="color: #e6e6e6; font-weight: bold;") Company Name
      input#companyName.input-company(type='text' name='companyName' value="" style="width: 100%; padding: 10px; margin-top: 5px; border: 1px solid #444444; border-radius: 5px; background-color: #2a2a2a; color: #ffffff;")
    div.mb-3
      label.label-company(for='industry' style="color: #e6e6e6; font-weight: bold;") Industry
      input#industry.input-company(type='text' name='industry' value="" style="width: 100%; padding: 10px; margin-top: 5px; border: 1px solid #444444; border-radius: 5px; background-color: #2a2a2a; color: #ffffff;")
    div.mb-3
      label.label-company(for='phone' style="color: #e6e6e6; font-weight: bold;") Phone
      input#phone.input-company(type='text' name='phone' value="" style="width: 100%; padding: 10px; margin-top: 5px; border: 1px solid #444444; border-radius: 5px; background-color: #2a2a2a; color: #ffffff;")
    div.mb-3
      label.label-company(for='city' style="color: #e6e6e6; font-weight: bold;") City
      input#city.input-company(type='text' name='city' value="" style="width: 100%; padding: 10px; margin-top: 5px; border: 1px solid #444444; border-radius: 5px; background-color: #2a2a2a; color: #ffffff;")
    div.mb-3
      label.label-company(for='country' style="color: #e6e6e6; font-weight: bold;") Country
      input#country.input-company(type='text' name='country' value="" style="width: 100%; padding: 10px; margin-top: 5px; border: 1px solid #444444; border-radius: 5px; background-color: #2a2a2a; color: #ffffff;")
    div.mb-3
      label.label-company(for='email' style="color: #e6e6e6; font-weight: bold;") Email
      input#email.input-company(type='email' name='email' value="" style="width: 100%; padding: 10px; margin-top: 5px; border: 1px solid #444444; border-radius: 5px; background-color: #2a2a2a; color: #ffffff;")
    div.mb-3
      button.btn-company(type='submit' style="width: 100%; padding: 10px; background-color: #33cc33; color: #ffffff; font-weight: bold; border: none; border-radius: 5px; cursor: pointer;") Create/Update Company

  script.
    function handleClick(companyId, userId, companyName, industry, phone, city, country, email) {
      document.getElementById('companyId').value = companyId;
      document.getElementById('userId').value = userId;
      document.getElementById('companyName').value = companyName;
      document.getElementById('industry').value = industry;
      document.getElementById('phone').value = phone;
      document.getElementById('city').value = city;
      document.getElementById('country').value = country;
      document.getElementById('email').value = email;
    }
